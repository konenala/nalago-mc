// Code generated by enhanced-generator v2 from protocol.json; DO NOT EDIT manually.
// To regenerate: go run main_v2.go -protocol <path> -output <dir> -direction server

package server

import (
	pk "git.konjactw.dev/falloutBot/go-mc/net/packet"
	"git.konjactw.dev/patyhank/minego/pkg/protocol/packetid"
	"io"
)

// SetCreativeSlotItemTemp is a sub-structure used in the packet.
type SetCreativeSlotItemTemp struct {
	// TODO: Implement mapper type
	Type interface{}
	Data []byte `mc:"ByteArray"`
}

// ReadFrom reads the data from the reader.
func (p *SetCreativeSlotItemTemp) ReadFrom(r io.Reader) (n int64, err error) {
	var temp int64
	_ = temp

	// TODO: Read Type

	temp, err = (*pk.ByteArray)(&p.Data).ReadFrom(r)
	n += temp
	if err != nil {
		return n, err
	}

	return n, nil
}

// WriteTo writes the data to the writer.
func (p SetCreativeSlotItemTemp) WriteTo(w io.Writer) (n int64, err error) {
	var temp int64
	_ = temp

	// TODO: Write Type

	temp, err = (*pk.ByteArray)(&p.Data).WriteTo(w)
	n += temp
	if err != nil {
		return n, err
	}

	return n, nil
}

// SetCreativeSlotItemRemoveComponentsEntry is a sub-structure used in the packet.
type SetCreativeSlotItemRemoveComponentsEntry struct {
	// TODO: Implement mapper type
	Type interface{}
}

// ReadFrom reads the data from the reader.
func (p *SetCreativeSlotItemRemoveComponentsEntry) ReadFrom(r io.Reader) (n int64, err error) {
	var temp int64
	_ = temp

	// TODO: Read Type

	return n, nil
}

// WriteTo writes the data to the writer.
func (p SetCreativeSlotItemRemoveComponentsEntry) WriteTo(w io.Writer) (n int64, err error) {
	var temp int64
	_ = temp

	// TODO: Write Type

	return n, nil
}

// SetCreativeSlotItem is a sub-structure used in the packet.
type SetCreativeSlotItem struct {
	ItemCount             int32 `mc:"VarInt"`
	ItemId                int32 `mc:"VarInt"`
	AddedComponentCount   int32 `mc:"VarInt"`
	RemovedComponentCount int32 `mc:"VarInt"`
	Components            []SetCreativeSlotItemTemp
	RemoveComponents      []SetCreativeSlotItemRemoveComponentsEntry
}

// ReadFrom reads the data from the reader.
func (p *SetCreativeSlotItem) ReadFrom(r io.Reader) (n int64, err error) {
	var temp int64
	_ = temp

	var itemCount pk.VarInt
	temp, err = itemCount.ReadFrom(r)
	n += temp
	if err != nil {
		return n, err
	}
	p.ItemCount = int32(itemCount)

	if p.ItemCount != 0 {
		var itemId pk.VarInt
		temp, err = itemId.ReadFrom(r)
		n += temp
		if err != nil {
			return n, err
		}
		p.ItemId = int32(itemId)
	}

	if p.ItemCount != 0 {
		var addedComponentCount pk.VarInt
		temp, err = addedComponentCount.ReadFrom(r)
		n += temp
		if err != nil {
			return n, err
		}
		p.AddedComponentCount = int32(addedComponentCount)
	}

	if p.ItemCount != 0 {
		var removedComponentCount pk.VarInt
		temp, err = removedComponentCount.ReadFrom(r)
		n += temp
		if err != nil {
			return n, err
		}
		p.RemovedComponentCount = int32(removedComponentCount)
	}

	if p.ItemCount != 0 {
		var componentsCount pk.VarInt
		temp, err = componentsCount.ReadFrom(r)
		n += temp
		if err != nil {
			return n, err
		}
		p.Components = make([]SetCreativeSlotItemTemp, componentsCount)
		for i := 0; i < int(componentsCount); i++ {
			temp, err = p.Components[i].ReadFrom(r)
			n += temp
			if err != nil {
				return n, err
			}
		}
	}

	if p.ItemCount != 0 {
		var removeComponentsCount pk.VarInt
		temp, err = removeComponentsCount.ReadFrom(r)
		n += temp
		if err != nil {
			return n, err
		}
		p.RemoveComponents = make([]SetCreativeSlotItemRemoveComponentsEntry, removeComponentsCount)
		for i := 0; i < int(removeComponentsCount); i++ {
			temp, err = p.RemoveComponents[i].ReadFrom(r)
			n += temp
			if err != nil {
				return n, err
			}
		}
	}

	return n, nil
}

// WriteTo writes the data to the writer.
func (p SetCreativeSlotItem) WriteTo(w io.Writer) (n int64, err error) {
	var temp int64
	_ = temp

	temp, err = pk.VarInt(p.ItemCount).WriteTo(w)
	n += temp
	if err != nil {
		return n, err
	}

	if p.ItemCount != 0 {
		temp, err = pk.VarInt(p.ItemId).WriteTo(w)
		n += temp
		if err != nil {
			return n, err
		}
	}

	if p.ItemCount != 0 {
		temp, err = pk.VarInt(p.AddedComponentCount).WriteTo(w)
		n += temp
		if err != nil {
			return n, err
		}
	}

	if p.ItemCount != 0 {
		temp, err = pk.VarInt(p.RemovedComponentCount).WriteTo(w)
		n += temp
		if err != nil {
			return n, err
		}
	}

	if p.ItemCount != 0 {
		temp, err = pk.VarInt(len(p.Components)).WriteTo(w)
		n += temp
		if err != nil {
			return n, err
		}
		for i := range p.Components {
			temp, err = p.Components[i].WriteTo(w)
			n += temp
			if err != nil {
				return n, err
			}
		}
	}

	if p.ItemCount != 0 {
		temp, err = pk.VarInt(len(p.RemoveComponents)).WriteTo(w)
		n += temp
		if err != nil {
			return n, err
		}
		for i := range p.RemoveComponents {
			temp, err = p.RemoveComponents[i].WriteTo(w)
			n += temp
			if err != nil {
				return n, err
			}
		}
	}

	return n, nil
}

// SetCreativeSlot represents the Serverbound SetCreativeSlot packet.

type SetCreativeSlot struct {
	Slot int16
	Item SetCreativeSlotItem
}

// PacketID returns the packet ID for this packet.
func (*SetCreativeSlot) PacketID() packetid.ServerboundPacketID {
	return packetid.ServerboundSetCreativeSlot
}

// ReadFrom reads the packet data from the reader.
func (p *SetCreativeSlot) ReadFrom(r io.Reader) (n int64, err error) {
	var temp int64
	_ = temp

	temp, err = (*pk.Short)(&p.Slot).ReadFrom(r)
	n += temp
	if err != nil {
		return n, err
	}

	temp, err = p.Item.ReadFrom(r)
	n += temp
	if err != nil {
		return n, err
	}

	return n, nil
}

// WriteTo writes the packet data to the writer.
func (p SetCreativeSlot) WriteTo(w io.Writer) (n int64, err error) {
	var temp int64
	_ = temp

	temp, err = pk.Short(p.Slot).WriteTo(w)
	n += temp
	if err != nil {
		return n, err
	}

	temp, err = p.Item.WriteTo(w)
	n += temp
	if err != nil {
		return n, err
	}

	return n, nil
}

func init() {
	registerPacket(packetid.ServerboundSetCreativeSlot, func() ServerboundPacket {
		return &SetCreativeSlot{}
	})
}

// Code generated by enhanced-generator v2 from protocol.json; DO NOT EDIT manually.
// To regenerate: go run main_v2.go -protocol <path> -output <dir> -direction client

package client

import (
	"io"

	"git.konjactw.dev/falloutBot/go-mc/data/packetid"
	pk "git.konjactw.dev/falloutBot/go-mc/net/packet"
)

// DeclareRecipesRecipesEntry is a sub-structure used in the packet.
type DeclareRecipesRecipesEntry struct {
	Name  string `mc:"String"`
	Items []int32
}

// ReadFrom reads the data from the reader.
func (s *DeclareRecipesRecipesEntry) ReadFrom(r io.Reader) (n int64, err error) {
	var temp int64

	var name pk.String
	temp, err = name.ReadFrom(r)
	n += temp
	if err != nil {
		return n, err
	}
	s.Name = string(name)

	var itemsCount pk.VarInt
	temp, err = itemsCount.ReadFrom(r)
	n += temp
	if err != nil {
		return n, err
	}
	s.Items = make([]int32, itemsCount)
	for i := 0; i < int(itemsCount); i++ {
		var elem pk.VarInt
		temp, err = elem.ReadFrom(r)
		n += temp
		if err != nil {
			return n, err
		}
		s.Items[i] = int32(elem)
	}

	return n, nil
}

// WriteTo writes the data to the writer.
func (s DeclareRecipesRecipesEntry) WriteTo(w io.Writer) (n int64, err error) {
	var temp int64

	temp, err = pk.String(p.Name).WriteTo(w)
	n += temp
	if err != nil {
		return n, err
	}

	temp, err = pk.VarInt(len(p.Items)).WriteTo(w)
	n += temp
	if err != nil {
		return n, err
	}
	for i := range p.Items {
		temp, err = pk.VarInt(p.Items[i]).WriteTo(w)
		n += temp
		if err != nil {
			return n, err
		}
	}

	return n, nil
}

// DeclareRecipesStoneCutterRecipesEntry is a sub-structure used in the packet.
type DeclareRecipesStoneCutterRecipesEntry struct {
	Input       interface{}
	SlotDisplay interface{}
}

// ReadFrom reads the data from the reader.
func (s *DeclareRecipesStoneCutterRecipesEntry) ReadFrom(r io.Reader) (n int64, err error) {
	var temp int64

	// TODO: Read Input (IDSet)

	// TODO: Read SlotDisplay (SlotDisplay)

	return n, nil
}

// WriteTo writes the data to the writer.
func (s DeclareRecipesStoneCutterRecipesEntry) WriteTo(w io.Writer) (n int64, err error) {
	var temp int64

	// TODO: Write Input (IDSet)

	// TODO: Write SlotDisplay (SlotDisplay)

	return n, nil
}

// DeclareRecipes represents the Clientbound DeclareRecipes packet.

type DeclareRecipes struct {
	Recipes            []DeclareRecipesRecipesEntry
	StoneCutterRecipes []DeclareRecipesStoneCutterRecipesEntry
}

// PacketID returns the packet ID for this packet.
func (*DeclareRecipes) PacketID() packetid.ClientboundPacketID {
	return packetid.ClientboundDeclareRecipes
}

// ReadFrom reads the packet data from the reader.
func (p *DeclareRecipes) ReadFrom(r io.Reader) (n int64, err error) {
	var temp int64

	var recipesCount pk.VarInt
	temp, err = recipesCount.ReadFrom(r)
	n += temp
	if err != nil {
		return n, err
	}
	s.Recipes = make([]DeclareRecipesRecipesEntry, recipesCount)
	for i := 0; i < int(recipesCount); i++ {
		temp, err = s.Recipes[i].ReadFrom(r)
		n += temp
		if err != nil {
			return n, err
		}
	}

	var stoneCutterRecipesCount pk.VarInt
	temp, err = stoneCutterRecipesCount.ReadFrom(r)
	n += temp
	if err != nil {
		return n, err
	}
	s.StoneCutterRecipes = make([]DeclareRecipesStoneCutterRecipesEntry, stoneCutterRecipesCount)
	for i := 0; i < int(stoneCutterRecipesCount); i++ {
		temp, err = s.StoneCutterRecipes[i].ReadFrom(r)
		n += temp
		if err != nil {
			return n, err
		}
	}

	return n, nil
}

// WriteTo writes the packet data to the writer.
func (p DeclareRecipes) WriteTo(w io.Writer) (n int64, err error) {
	var temp int64

	temp, err = pk.VarInt(len(p.Recipes)).WriteTo(w)
	n += temp
	if err != nil {
		return n, err
	}
	for i := range p.Recipes {
		temp, err = s.Recipes[i].WriteTo(w)
		n += temp
		if err != nil {
			return n, err
		}
	}

	temp, err = pk.VarInt(len(p.StoneCutterRecipes)).WriteTo(w)
	n += temp
	if err != nil {
		return n, err
	}
	for i := range p.StoneCutterRecipes {
		temp, err = s.StoneCutterRecipes[i].WriteTo(w)
		n += temp
		if err != nil {
			return n, err
		}
	}

	return n, nil
}

func init() {
	registerPacket(packetid.ClientboundDeclareRecipes, func() ClientboundPacket {
		return &DeclareRecipes{}
	})
}
